RewriteEngine On

# Redirect /public URLs to root
RewriteCond %{THE_REQUEST} /public/([^\s?]*) [NC]
RewriteRule ^ /%1? [R=301,L]

# Handle requests that don't go to existing files/directories
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d

# Internal rewrite to public folder
RewriteRule ^(.*)$ public/$1 [L]
